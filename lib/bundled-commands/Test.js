// Generated by CoffeeScript 1.7.1
(function() {
  "use strict";
  var Helpers, Test, helpers, karma, path, shelljs;

  karma = require("karma").server;

  Helpers = require("../util/Helpers");

  helpers = new Helpers();

  path = require("path");

  shelljs = require("shelljs");

  Test = (function() {
    function Test() {}

    Test.prototype.run = function(args) {
      var commands, task_runner_path;
      if (args.watch) {
        commands = " --watch";
      } else {
        commands = "";
      }
      task_runner_path = "node_modules/ng-task-runner";
      helpers.getConfig(function(err, data) {
        if (err) {
          helpers.trace(err);
        } else {
          commands += " --test";
          shelljs.cd("" + data.project_root + "/" + task_runner_path);
          commands = "gulp build " + commands + " --path " + data.project_root;
          return shelljs.exec(commands, function() {});
        }
      });
    };

    return Test;

  })();

  module.exports = Test;

}).call(this);
